//I believe the reason this needs its own files is so that Ruby adjust the ERB here with every getScript call
//Also, I guess single quotes won't stop ERB from parsing, and are required for the javascript arguments

$('#posts').append('<%= escape_javascript render @posts %>'); 
$('#more-posts').attr('data-posts', '<%= root_path page: @posts.next_page %>'); 

<% unless @posts.next_page %>
  $('#more-posts').remove();
<% end %>

